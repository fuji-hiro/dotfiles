#! /usr/bin/env ruby
# frozen_string_literal: true

require 'webrick'
port = (ARGV[0] || 8080).to_i
WEBrick::HTTPServer.new(
  DocumentRoot: './',
  Port: port,
  DirectoryIndex: %w[index.html],
  MimeTypes: WEBrick::HTTPUtils::DefaultMimeTypes.merge(
    # For DirectoryIndex
    # '' => 'text/html',
    'adoc' => 'text/asciidoc',
    'md' => 'text/markdown; charset=utf8',
  ),
).start
